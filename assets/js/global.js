!function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var i=(new Date).getTime(),o=Math.max(0,16-(i-e)),a=window.setTimeout(function(){t(i+o)},o);return e=i+o,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),function(e,t){var n,i=e.jQuery||e.Cowboy||(e.Cowboy={});i.throttle=n=function(e,n,o,a){function s(){function i(){r=+new Date,o.apply(c,u)}function s(){l=t}var c=this,d=+new Date-r,u=arguments;a&&!l&&i(),l&&clearTimeout(l),a===t&&d>e?i():n!==!0&&(l=setTimeout(a?s:i,a===t?e-d:e))}var l,r=0;return"boolean"!=typeof n&&(a=o,o=n,n=t),i.guid&&(s.guid=o.guid=o.guid||i.guid++),s},i.debounce=function(e,i,o){return o===t?n(e,i,!1):n(e,o,i!==!1)}}(this),$.centeredPopup=function(e){var t=void 0!=window.screenLeft?window.screenLeft:screen.left,n=void 0!=window.screenTop?window.screenTop:screen.top,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,a=i/2-e.width/2+t,s=o/2-e.height/2+n,l=window.open(e.url,e.title,"scrollbars=yes, width="+e.width+", height="+e.height+", top="+s+", left="+a);window.focus&&l.focus()},function(e,t){"function"==typeof define&&define.amd?define(function(){return t(e)}):"object"==typeof exports?module.exports=t:e.echo=t(e)}(this,function(e){"use strict";var t,n,i,o,a,s={},l=function(){},r=function(e){return null===e.offsetParent},c=function(e,t){if(r(e))return!1;var n=e.getBoundingClientRect();return n.right>=t.l&&n.bottom>=t.t&&n.left<=t.r&&n.top<=t.b},d=function(){!o&&n||(clearTimeout(n),n=setTimeout(function(){s.render(),n=null},i))};return s.init=function(n){n=n||{};var r=n.offset||0,c=n.offsetVertical||r,u=n.offsetHorizontal||r,h=function(e,t){return parseInt(e||t,10)};t={t:h(n.offsetTop,c),b:h(n.offsetBottom,c),l:h(n.offsetLeft,u),r:h(n.offsetRight,u)},i=h(n.throttle,250),o=n.debounce!==!1,a=!!n.unload,l=n.callback||l,s.render(),document.addEventListener?(e.addEventListener("scroll",d,!1),e.addEventListener("load",d,!1)):(e.attachEvent("onscroll",d),e.attachEvent("onload",d))},s.render=function(){for(var n,i,o=document.querySelectorAll("img[data-echo], [data-echo-background]"),r=o.length,d={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},u=0;u<r;u++)i=o[u],c(i,d)?(a&&i.setAttribute("data-echo-placeholder",i.src),null!==i.getAttribute("data-echo-background")?i.style.backgroundImage="url("+i.getAttribute("data-echo-background")+")":i.src=i.getAttribute("data-echo"),a||(i.removeAttribute("data-echo"),i.removeAttribute("data-echo-background")),l(i,"load")):a&&(n=i.getAttribute("data-echo-placeholder"))&&(null!==i.getAttribute("data-echo-background")?i.style.backgroundImage="url("+n+")":i.src=n,i.removeAttribute("data-echo-placeholder"),l(i,"unload"));r||s.detach()},s.detach=function(){document.removeEventListener?e.removeEventListener("scroll",d):e.detachEvent("onscroll",d),clearTimeout(n)},s}),function(e){e.fn.EnclaraWebsite=function(t){var n={easing:"easeOutCirc",pageChangeDuration:999,gmapsKey:"AIzaSyCmQltveJTrzgy3GKGdNPVkiAbdlT3chIE"},i={},o=e.extend(n,t),a=function(){i.doc=e(this),i.win=e(window),i.body=e("body"),i.header=e("#site-header"),i.nav=e("#main-nav"),i.navToggle=e("#main-nav-toggle"),i.internalAnchor=e('a[href^="'+window.location.origin+'"]:not([href*="uploads"], [class="news-loadmore-btn"])'),i.scrollAnchor=e("[data-scroll]"),i.lazyImgs=e("[data-img], [data-bgimg]"),i.inViewEls=e("[data-in-view]"),i.parallax=e("[data-parallax]"),o.navOpen=!1,o.modalOpen=!1,o.breakpoint=window.getComputedStyle(document.getElementById("site-container"),":before").getPropertyValue("content").replace(/\"/g,""),o.didScroll=!1,o.didResize=!1,o.winTop=window.pageYOffset,o.winHeight=i.win.height(),o.inView=[],o.page={home:i.body.hasClass("home"),about:i.body.hasClass("page-template-about"),companies:i.body.hasClass("page-template-companies"),careers:i.body.hasClass("page-template-careers"),contact:i.body.hasClass("page-template-contact"),newsFeed:i.body.hasClass("page-template-news")||i.body.hasClass("archive"),newsSingle:i.body.hasClass("single-post"),privacy:i.body.hasClass("page-template-privacy")},o.debug=!0,o.debug&&console.log("settings: ",o),console.log("elements:",i)},s=function(){var t=e(this),n=t.offset().top;return n<=o.winTop+o.winHeight&&n+t.outerHeight()>=o.winTop},l=function(){i.inViewEls.length&&o.inView.length<i.inViewEls.length&&i.inViewEls.each(function(t){var n=e(this);s.call(n)&&!n.hasClass("is-in-view")&&(e(this).addClass("is-in-view"),o.inView.push(t))})},r=function(t){var n=e("[data-equalize-parent]");n.length&&n.each(function(){var t=(e(this).data("equalize-parent"),e(this).find("[data-equalize-item]")),n=t.find("[data-equalize-measure]"),i=c(n);t.css({height:i+"px"})})},c=function(t){var n=0;return t.each(function(){var t=e(this),i=t.outerHeight();i>n&&(n=i)}),n},d=function(){echo.init({})},u=function(){var e=function(){o.navOpen?(i.nav.velocity("slideUp",{duration:450,ease:"easeOutCirc"}),i.body.removeClass("is-showing-nav"),o.navOpen=!1):(i.nav.velocity("slideDown",{duration:450,ease:"easeOutCirc"}),i.body.addClass("is-showing-nav"),o.navOpen=!0)};i.navToggle.click(e)},h=function(){o.breakpoint=window.getComputedStyle(document.getElementById("site-container"),":before").getPropertyValue("content").replace(/\"/g,""),o.winHeight=i.win.height(),r(),o.debug&&console.log("Breakpoint: ",o.breakpoint)},g=function(){o.didScroll&&(o.winTop=window.pageYOffset,o.page.home&&TweenMax.set(i.parallax,{y:.2*o.winTop}),l(),o.didScroll=!1)},f=function(){g(),requestAnimationFrame(f)},m=function(){i.body.addClass("is-loaded")},p=function(){var t=function(t){t.preventDefault();var n=e(this).attr("href"),i=parseInt(e(this).data("scroll-offset"));e(n).velocity("scroll",{easing:o.easing,offset:i})};i.scrollAnchor.click(t)},v=function(){var t=(e(".block-news--content"),e(".posts-slider")),n=e(".posts-slider--item"),o=e(".posts-slider--itemliner"),a=e("#slider-arr-left"),s=e("#slider-arr-right"),l=function(){var e=c(o)+"px";t.css({height:e})},r=function(){n.each(function(){var t=e(this);t.hasClass("item--1")?t.removeClass("item--1").addClass("item--3"):t.hasClass("item--2")?t.removeClass("item--2").addClass("item--1"):t.hasClass("item--3")&&t.removeClass("item--3").addClass("item--2")})},d=function(){n.each(function(){var t=e(this);t.hasClass("item--1")?t.removeClass("item--1").addClass("item--2"):t.hasClass("item--2")?t.removeClass("item--2").addClass("item--3"):t.hasClass("item--3")&&t.removeClass("item--3").addClass("item--1")})};a.click(d),s.click(r),e(document).on("click",".item--2",d),e(document).on("click",".item--3",r),l(),i.win.on({resize:e.debounce(250,l)}),e(".learn-more").click(function(t){t.preventDefault(),e(this.hash).velocity("scroll")})},w=function(){if(a(),f(),d(),r(),o.page.home)v();else if(o.page.contact){var t=e("#eh-googlemap"),n=t.data("map-lat"),s=t.data("map-lng"),l=[{featureType:"water",elementType:"geometry",stylers:[{color:"#e9e9e9"},{lightness:17}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#eeeeee"},{lightness:10}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffffff"},{lightness:17}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ffffff"},{lightness:29},{weight:.2}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:18}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#ffffff"},{lightness:16}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#f5f5f5"},{lightness:21}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#dedede"},{lightness:21}]},{elementType:"labels.text.stroke",stylers:[{visibility:"on"},{color:"#ffffff"},{lightness:16}]},{elementType:"labels.text.fill",stylers:[{saturation:36},{color:"#333333"},{lightness:40}]},{elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#f2f2f2"},{lightness:19}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#fefefe"},{lightness:20}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#fefefe"},{lightness:17},{weight:1.2}]}],c=function(){var e=new google.maps.LatLng(n,s),i=new google.maps.Map(t[0],{zoom:17,center:e,mapTypeId:google.maps.MapTypeId.ROADMAP,disableDefaultUI:!0,zoomControl:!0,styles:l,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL},scrollwheel:!1}),o=new google.maps.Marker({position:e,map:i,icon:{url:themeConfig.root+"/assets/img/location-icon-2x.png",scaledSize:new google.maps.Size(38,50)},draggable:!1,animation:google.maps.Animation.DROP});o.addListener("click",function(){null!==o.getAnimation()?o.setAnimation(null):o.setAnimation(google.maps.Animation.BOUNCE)}),google.maps.event.addDomListener(window,"resize",function(){var e=i.getCenter();google.maps.event.trigger(i,"resize"),i.setCenter(e)})};e.getScript("https://maps.googleapis.com/maps/api/js?sensor=false&key="+o.gmapsKey,c)}else if(o.page.careers){var g=e("[data-section-toggle]"),w=e(".body1"),y=e(".body2"),b=(new Flickity(".carousel",{prevNextButtons:!1,autoPlay:!0}),e(".toggle-icon-container, .value-title-container > h3"));y.hide(),g.on("click",function(){function t(e){e.parents(".button-set").find(".is-active").removeClass("is-active"),e.addClass("is-active")}var n=e(this),i=n.attr("id");switch(!n.hasClass("is-active")&&t(n),i){case"why":w.fadeIn("slow"),y.hide();break;case"who":y.fadeIn("slow"),w.hide()}}),b.on("click",e.debounce(100,function(){var t=e(this).parents(".value-item"),n=t.find(".value-hidden-container");n.hasClass("velocity-animating")||(t.hasClass("toggled")?(console.log("else hit"),t.removeClass("toggled"),n.velocity("slideUp",{duration:200})):(t.addClass("toggled"),n.velocity("slideDown",{duration:200})))}))}else if(o.page.about){var C=e("[data-bio-html]"),T=e("#overlay-close"),k=e("#execbio-section"),x=e("#exec-overlay .overlay-content");C.each(function(t){var n=e(this),o=n.find("h5").text(),a=n.find("p").text(),s=e(this).data("bio-html"),l='<div class="exec-bio">';l+='<div class="exec-bio--title"><h3>'+o+"</h3><p>"+a+"</p><hr></div>",l+='<div class="exec-bio--bio">'+s+"</div>",l+="</div>",n.on("click",function(){i.body.addClass("is-showing-overlay"),k.html(l);var t=x.outerHeight(),n=(e(window).height()-t)/2,o=n>10?n+"px":"3%";x.css({marginTop:o})})}),T.on("click",function(){i.body.removeClass("is-showing-overlay"),k.html("")})}else if(o.page.newsFeed||o.page.newsSingle){var A=i.body.hasClass("single-post");if(A){var E=e(".btn-social"),z=e(".singlepost-article"),S=e(".singlepost-after--prevnext").find("h4 > a"),D=z.find('img[class*="wp-image-"]');z.find("p").each(function(){var t=e(this),n=t.text(),i=t.children().length;n.length<=1&&0===i&&t.remove()}),D.each(function(){var t=e(this),n=t.parent('a[href*="wp-content/uploads"]');n.length&&t.unwrap()}),E.on("click",function(t){t.preventDefault();var n=e(this);e.centeredPopup({url:e(this).attr("href"),title:"Share on "+n.find(".social-name").text(),width:400,height:400})}),S.hover(function(){e(this).parent("h4").next(".adjacent--arr").children("a").addClass("is-hovered")},function(){e(this).parent("h4").next(".adjacent--arr").children("a").removeClass("is-hovered")})}else{var I=e("[data-paged]"),L=e("#news-max-pages-num"),F=I.data("paged");F>1&&L.text(F),e(document).on("click",".news-loadmore-btn",function(t){t.preventDefault();var n=e(this),i=n.attr("href"),o=n.parents(".news-nextpage"),a=o.next(".news-ajaxtarget");a.hide(),n.addClass("is-loading").find("span").text("Loading").siblings("i").remove(),n.append('<i class="fa fa-refresh" aria-hidden="true"></i>'),a.load(i+" .news-ajaxbody",function(){a.find(".news-postgrid").hide(),setTimeout(function(){o.remove(),a.show().find(".news-postgrid").velocity("transition.slideUpIn",{duration:1e3})},500)})})}}else if(o.page.privacy){console.log("privacy js loaded");var b=e(".toggle-icon-container, .value-title-container > h3");b.on("click",e.debounce(100,function(){var t=e(this).parents(".value-item"),n=t.find(".value-hidden-container");n.hasClass("velocity-animating")||(t.hasClass("toggled")?(console.log("else hit"),t.removeClass("toggled"),n.velocity("slideUp",{duration:200})):(t.addClass("toggled"),n.velocity("slideDown",{duration:200})))}))}i.doc.ready([u,p]),i.win.on({scroll:function(){o.didScroll=!0},resize:e.debounce(250,h),load:m})};return w()}}(jQuery);
